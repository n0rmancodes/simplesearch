<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>SimpleSearch | The best homepage... ever!</title>
		<link rel="shortcut icon" href="https://raw.githubusercontent.com/n0rmancodes/simplesearch/master/img/favicon.ico">
		<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 		
		<script>
			window.onload(getStylesheet())
			function getStylesheet() {
			var currentTime = new Date().getHours();
			if (0 <= currentTime&&currentTime < 5) {
				document.write("<link rel='stylesheet' href='css/home/night/style.css' type='text/css'>");
			}
			if (5 <= currentTime&&currentTime < 11) {
				document.write("<link rel='stylesheet' href='css/home/style.css' type='text/css'>");
			}
			if (11 <= currentTime&&currentTime < 16) {
				document.write("<link rel='stylesheet' href='css/home/style.css' type='text/css'>");
			}
			if (16 <= currentTime&&currentTime < 22) {
				document.write("<link rel='stylesheet' href='css/home/evening/style.css' type='text/css'>");
			}
			if (22 <= currentTime&&currentTime <= 24) {
				document.write("<link rel='stylesheet' href='css/home/night/style.css' type='text/css'>");
			}
		}
    </script>
	</head>
  <body>
    <div id="header"><center>
		<h1>SimpleSearch</h1>
		<h2 id="welcome" style="display: block;"></h2>
		<p id="datetime" style="display: block;"></p>
		<p id="footer" style="font-size:10px;">See the background <a style="font-size:10px; text-decoration:underline;" onclick="hideeverything()">by itself!</a> | <a style="font-size:10px;" href="minimal">Minimalistic Version</a> | <a onclick="document.getElementById('weather').style.display = 'none'; document.getElementById('settings').style.display = 'block';" style="font-size:10px; text-decoration:underline;">Settings</a> | <a style="font-size:10px; text-decoration:underline;" onclick="genforecast(); document.getElementById('weather').style.display = 'block'; document.getElementById('settings').style.display = 'none';">Weather</a> | <a style="font-size:10px;" href="https://github.com/n0rmancodes/simplesearch">Github Repo</a></p>
		<input id="search" autocomplete="off" placeholder="Search now." maxlength="100" title="Change your search engine with the Settings link below."><button onclick="search()">Search</button>
		<div style="width: 10px;"></div>
		<div id="weather" style="background-color:white; width: 675px; height: 250px; display:none;"></div>
		<div id="settings" style="background-color:white; width:675px; display:none;">
			<p style="color:black;">Search Engine:</p><select id="se"><option value="ddg" selected="selected">DuckDuckGo</option><option value="google">Google</option><option value="yahoo">Yahoo!</option><option value="bing">Bing</option><option value="dp">Dogpile</option></select>
			<button id="dbutton" style="display:block;" title="Choose to display what on the homepage." onclick="document.getElementById('doptions').style.display = 'block'; document.getElementById('dbutton').style.display = 'none'">Display Options</button>
			<div id="doptions" style="display:none;">
				<p style="color:black;">Welcome Text</p><select id="welop" autocomplete="on"><option value="y" selected="selected">Enabled</option><option value="n">Disabled</option></select>
				<p style="color:black;">Date/Time Text</p><select id="dtop" autocomplete="on"><option value="y" selected="selected">Enabled</option><option value="n">Disabled</option></select>
			</div>
			<p style="color: black;">These settings will save for only this browser session.</p>
			<button style="display:block;" onclick="document.getElementById('settings').style.display = 'none'; document.getElementById('dbutton').style.display = 'block'; document.getElementById('doptions').style.display = 'none'; checksettings();">Close Settings</button>
    </div>
    </center></div>
    <script>
      var s = document.getElementById("search");
      s.addEventListener("keydown", function (e) {
        if (e.keyCode == 13) {
          search()
        } 
      });
      if (new Date().getSeconds === 00)
      {gendate()}
      var w = document.getElementById("weather")
      window.onload(onloadall())
      function onloadall() {
        s.focus();
		genwel();
        gendate();
        checksettings();
      }
      function search() {
        var se = document.getElementById("se").value;
        var query = document.getElementById("search").value;
        if (se === "ddg") {var searchb4plus = "https://www.duckduckgo.com/?q=" + query}
        if (se === "google") {var searchb4plus = "https://www.google.com/search?q=" + query}
        if (se === "yahoo") {var searchb4plus = "https://search.yahoo.com/search?p=" + query}
        if (se === "dp") {var searchb4plus = "https://results.dogpile.com/search/web?q=" + query}
        if (se === "bing") {var searchb4plus = "https://www.bing.com/search?q=" + query}
        var search = searchb4plus.split(' ').join('+');
        window.open(search, "_self");
      }
      function genwel() {
        var wel = ["What's up?", "I hope your day is well.", "Smile!", "Start seaching.", "Need a break? Play a game.", "Relax.", "Enjoy what you have.", "Always stay humble and kind!", "Yes, we're open.", "We are compatible with DuckDuckGo <a href='https://duckduckgo.com/bang' style='font-family: Verdana; font-size:24px'>bangs!</a>", "Bored? <a onclick=bored() style='font-family: Verdana; font-size:24px'>Click me.</a>", "Love yourself.", "Be positive.", "How's the weather out there?"];
        var weltxt = wel[Math.floor(Math.random() * wel.length)];
        document.getElementById("welcome").innerHTML = weltxt;
      }
      function hideeverything() {
        document.getElementById("header").style.display = 'none';
        document.getElementById("footer").style.display = 'none';
        document.getElementById("settings").style.display = 'none';
        document.getElementById("weather").style.display = 'none';
        alert("Refresh to get this back to normal!")
      }
      function gendate() {
        var d = new Date();
        var m = d.getMonth() + 1;
        var day = d.getDate();
        var year = d.getFullYear();
        var hour = d.getHours();
        var minute = d.getMinutes();
        minute = minute < 10 ? '0'+minute : minute;
        hour = hour < 10 ? '0'+hour : hour;
        var curdat = "Today's date is " + m + "/" + day + "/" + year + " and it is " + hour + ":" + minute + "! Hope you're having a good day!"
        document.getElementById("datetime").innerHTML = curdat;
      }
      function bored() {
        var bored = ["http://patorjk.com/games/snake/", "https://www.newgrounds.com/", "https://jsnes.org/", "https://bit.ly/2LSvXYJ", "https://halome.nu/"];
        var b0red = bored[Math.floor(Math.random() * bored.length)];
        window.open(b0red);
      }
      function genforecast() 
      {
        navigator.geolocation.getCurrentPosition(function(location) {
          var x = document.getElementById("weather")
          var latitude = location.coords.latitude
          var longitude = location.coords.longitude
          var embed = '<iframe id="forecast_embed" frameborder="0" height="245" width="650" src="//forecast.io/embed/#lat=' + latitude + '&lon=' + longitude + '&name=Your Location"></iframe><center>'
          x.innerHTML = embed;
        });
      }
      function checksettings() 
      {
        var welop = document.getElementById("welop").value;
        var welob = document.getElementById("welcome")
        if (welop === "y") {welob.style.display = "block"}
        if (welop === "n") {welob.style.display = "none"}
        var dtop = document.getElementById("dtop").value;
        var dtob = document.getElementById("datetime")
        if (dtop === "y") {dtob.style.display = "block"}
        if (dtop === "n") {dtob.style.display = "none"}
        var ssop = document.getElementById("ssop").value
        var ss = document.getElementById("ss")
        if (ssop === "y") {ss.style.display = "block"}
        if (ssop === "n") {ss.style.display = "none"}
      }
    </script>
</body></html>
