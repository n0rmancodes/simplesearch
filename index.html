<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>SimpleSearch | The best homepage... ever!</title>
		<link rel="shortcut icon" href="https://raw.githubusercontent.com/n0rmancodes/simplesearch/master/img/favicon.ico">
		<link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 		
		<script>
			window.onload(getStylesheet())
			function getStylesheet() {
				var currentTime = new Date().getHours();
				if (0 <= currentTime&&currentTime < 5) {
					document.write("<link rel='stylesheet' href='css/home/night/style.css' type='text/css'>");
				}
				if (5 <= currentTime&&currentTime < 11) {
					document.write("<link rel='stylesheet' href='css/home/style.css' type='text/css'>");
				}
				if (11 <= currentTime&&currentTime < 16) {
					document.write("<link rel='stylesheet' href='css/home/style.css' type='text/css'>");
				}
				if (16 <= currentTime&&currentTime < 22) {
					document.write("<link rel='stylesheet' href='css/home/evening/style.css' type='text/css'>");
				}
				if (22 <= currentTime&&currentTime <= 24) {
					document.write("<link rel='stylesheet' href='css/home/night/style.css' type='text/css'>");
				}
			}
    </script>
	</head>
  <body>
    <div id="header"><center>
		<h1>simplesearch</h1>
		<h2 id="welcome" style="display: block;"></h2>
		<p id="datetime" style="display: block;"></p>
		<p id="footer" style="font-size:10px;">see the background <a style="font-size:10px; text-decoration:underline;" onclick="hideeverything()">by itself!</a> | <a style="font-size:10px; text-decoration:underline;" onclick="genforecast(); document.getElementById('weather').style.display = 'block';">weather</a> | <a style="font-size:10px;" href="https://github.com/n0rmancodes/simplesearch">github repo</a></p>
		<input id="search" autocomplete="off" placeholder="search now" maxlength="100" title="change your search engine with the box on the side."><select id="se"><option value="ddg" selected="selected">duckduckgo</option><option value="google">google</option><option value="yahoo">yahoo!</option><option value="bing">bing</option><option value="dp">dogpile</option></select><button onclick="search()">search</button>
		<div style="width: 10px;"></div>
		<div id="weather" style="background-color:white; width: 675px; height: 250px; display:none;"></div>
    </center></div>
    <script>
      var s = document.getElementById("search");
      s.addEventListener("keydown", function (e) {
        if (e.keyCode == 13) {
          search()
        } 
      });
      if (new Date().getSeconds === 00)
      {gendate()}
      var w = document.getElementById("weather")
      window.onload(onloadall())
      function onloadall() {
        s.focus();
	genwel();
        gendate();
      }
      function search() {
        var se = document.getElementById("se").value;
        var query = encodeURIComponent(document.getElementById("search").value);
        if (se === "ddg") {var search = "https://www.duckduckgo.com/?q=" + query}
        if (se === "google") {var search = "https://www.google.com/search?q=" + query}
        if (se === "yahoo") {var search = "https://search.yahoo.com/search?p=" + query}
        if (se === "dp") {var search = "https://results.dogpile.com/search/web?q=" + query}
        if (se === "bing") {var search = "https://www.bing.com/search?q=" + query}
        window.open(search, "_self");
      }
      function genwel() {
        var wel = ["what's up?", "i hope your day is well.", "smile!", "start seaching.", "relax.", "enjoy what you have.", "always stay humble and kind!", "yes, we're open.", "we are compatible with duckduckgo <a href='https://duckduckgo.com/bang' style='font-family: Verdana; font-size:24px'>bangs!</a>", "love yourself.", "be positive.", "how's the weather out there?"];
        var weltxt = wel[Math.floor(Math.random() * wel.length)];
        document.getElementById("welcome").innerHTML = weltxt;
      }
      function hideeverything() {
        document.getElementById("header").style.display = 'none';
        document.getElementById("footer").style.display = 'none';
        document.getElementById("settings").style.display = 'none';
        document.getElementById("weather").style.display = 'none';
        alert("refresh to get this back to normal!")
      }
      function gendate() {
        var d = new Date();
        var m = d.getMonth() + 1;
        var day = d.getDate();
        var year = d.getFullYear();
        var hour = d.getHours();
        var minute = d.getMinutes();
        minute = minute < 10 ? '0'+minute : minute;
        hour = hour < 10 ? '0'+hour : hour;
	day = day < 10 ? '0'+day : day;
        m = m < 10 ? '0'+m : m;
        var curdat = "today's date is " + m + "/" + day + "/" + year + " and it is " + hour + ":" + minute + "! i hope you're having a good day!"
        document.getElementById("datetime").innerHTML = curdat;
      }
      function genforecast() 
      {
        navigator.geolocation.getCurrentPosition(function(location) {
          var x = document.getElementById("weather")
          var latitude = location.coords.latitude
          var longitude = location.coords.longitude
          var embed = '<iframe id="forecast_embed" frameborder="0" height="245" width="650" src="//forecast.io/embed/#lat=' + latitude + '&lon=' + longitude + '&name=Your Location"></iframe><center>'
          x.innerHTML = embed;
        });
      }
    </script>
</body></html>
